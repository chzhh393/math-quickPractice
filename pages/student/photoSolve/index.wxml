<view class="container">
  <view class="header">
    <view class="back-button" bindtap="navigateBack">
      <view class="back-icon">←</view>
      <view class="back-text">返回</view>
    </view>
    <view class="title">拍照解题</view>
  </view>

  <view class="main-content">
    <!-- 拍照区域 -->
    <view class="camera-section" wx:if="{{!imagePath && !analyzing}}">
      <view class="camera-tip">请拍摄或上传数学题目</view>
      <view class="camera-actions">
        <button class="action-button" bindtap="takePhoto">
          <view class="button-icon">📷</view>
          <view class="button-text">拍照</view>
        </button>
        <button class="action-button" bindtap="chooseImage">
          <view class="button-icon">🖼️</view>
          <view class="button-text">从相册选择</view>
        </button>
      </view>
    </view>

    <!-- 图片预览区域 -->
    <view class="preview-section" wx:if="{{imagePath && !analyzing}}">
      <image class="preview-image" src="{{imagePath}}" mode="aspectFit"></image>
      <view class="preview-actions">
        <button class="secondary-button" bindtap="cancelImage">重新选择</button>
        <button class="primary-button" bindtap="analyzeImage">开始识别</button>
      </view>
    </view>

    <!-- 分析中状态 -->
    <view class="analyzing-section" wx:if="{{analyzing}}">
      <view class="loading-icon"></view>
      <view class="analyzing-text">正在识别题目...</view>
    </view>

    <!-- 识别结果 -->
    <view class="result-section" wx:if="{{recognizedProblem}}">
      <view class="section-title">识别结果</view>
      <view class="problem-content">{{recognizedProblem}}</view>
      
      <view class="result-actions">
        <button class="secondary-button" bindtap="cancelImage">重新拍照</button>
        <button class="primary-button" bindtap="createTask">创建任务</button>
      </view>
    </view>
  </view>
</view> 

